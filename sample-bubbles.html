<!--
 * p5.js bubbles visualization
 *
 * https://github.com/pete-rai/p5js-bubbles
 *
 * This file is a SAMPLE PAGE ONLY
-->
<!DOCTYPE html>
<html>
  <head>
    <title>p5js-bubbles | sample |&nbsp;</title>
    <meta charset="UTF-8">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <style type="text/css">
          body { padding: 0px; margin: 0px; overflow: hidden; }
      #restart { font-size: 12pt; position: absolute; left: 5px; top: 5px; z-index: 99; }
    </style>
    <!-- the following css is an example of custom colouring, remove it to return to default colouring -->
    <style type="text/css">
       .bubbles_bubble       { background-color: #FAFAFA;   color: #000080;   }
       .bubbles_bubble:hover { background-color: lightblue; color: indianred; }
       .bubbles_world        { background-color: lightgrey; }
    </style>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/p5.min.js"></script>
    <script type="text/javascript" src="bubbles.p5.js"></script>
    <script type="text/javascript">

// this is an example of bubble data in a local array

var g20 = {
    "US": {"name": "United States", "count": 18569},
    "CN": {"name": "China", "count": 11218},
    "JP": {"name": "Japan", "count": 4938},
    "DE": {"name": "Germany", "count": 3466},
    "UK": {"name": "United Kingdom", "count": 2629},
    "FR": {"name": "France", "count": 2463},
    "IN": {"name": "India", "count": 2256},
    "IT": {"name": "Italy", "count": 1851},
    "BR": {"name": "Brazil", "count": 1799},
    "CA": {"name": "Canada", "count": 1529},
    "KR": {"name": "South Korea", "count": 1411},
    "RS": {"name": "Russia", "count": 1281},
    "AU": {"name": "Australia", "count": 1259},
    "ES": {"name": "Spain", "count": 1233},
    "MX": {"name": "Mexico", "count": 1046},
    "ID": {"name": "Indonesia", "count": 932},
    "TR": {"name": "Turkey", "count": 857},
    "NL": {"name": "Netherlands", "count": 771},
    "CH": {"name": "Switzerland", "count": 660},
    "SA": {"name": "Saudi Arabia", "count": 640}};

      if  (window.location.search == "?movies")
      {
          data  = "sample-topmovies.json";
          title = "top grossing movies";
          info  = "https://en.wikipedia.org/wiki/";
          tip   = function (bubble) { return bubble.name + " (" + bubble.year + ") has grossed $" + bubble.count.toLocaleString ('en') + ",000"; };
      }
      else if  (window.location.search == "?populations")
      {
          data  = "sample-populations.json";
          title = "country populations";
          info  = "https://en.wikipedia.org/wiki/";
          tip   = function (bubble) { return bubble.name + " has " + bubble.count.toLocaleString ('en') + " people"; };
      }
      else
      {
          data  = g20;
          title = "countries by gdp";
          info  = "https://www.google.co.uk/maps/place/";
          tip   = function (bubble) { return bubble.name + " has a GDP of $" + bubble.count.toLocaleString ('en') + ",000,000,000";};
      }

      document.title += title;

      function selected (key, bubble)  // a bubble has been double-clicked
      {
          window.open (info + key, "_new");
      }

      function tooltip (key, bubble)  // return the tooltip text, null or empty string for none
      {
          return tip (bubble);
      }

      var bubbles = new Bubbles (data, null, selected, tooltip);

    </script>
  </head>
  <body>
    <button id="restart" onclick="bubbles.restart (data)">restart animation</button>
  </body>
</html>
